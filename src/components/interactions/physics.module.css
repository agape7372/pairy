/* ============================================
 * Magic & Fairy Button Interactions
 * 페어리, 마법, 빛, 반짝임 테마
 * ============================================ */

/* ============================================
 * 마법 이징 함수 (Magic Easing)
 * ============================================ */

:root {
  /* Soft Magic - 부드러운 마법 */
  --magic-soft: cubic-bezier(0.25, 0.8, 0.25, 1);
  --magic-float: cubic-bezier(0.4, 0, 0.2, 1);
  --magic-sparkle: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* Fairy - 요정 */
  --fairy-flutter: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --fairy-dust: cubic-bezier(0.16, 1, 0.3, 1);

  /* Glow - 빛 */
  --glow-pulse: cubic-bezier(0.4, 0, 0.6, 1);
  --glow-fade: cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ============================================
 * 공통 컨테이너 스타일
 * ============================================ */

.magicButtonContainer {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  width: 52px;
  height: 52px;
}

.magicButton {
  position: relative;
  padding: 12px;
  border-radius: 50%;
  background: transparent;
  border: none;
  cursor: pointer;
  transition: all 0.3s var(--magic-soft);
  z-index: 10;
}

.magicButton:hover {
  background-color: rgba(255, 182, 193, 0.1);
}

/* ============================================
 * LIKE BUTTONS - 마법 테마
 * ============================================ */

/* 1. Fairy Dust - 요정 가루 */
.fairyDust {
  position: absolute;
  width: 4px;
  height: 4px;
  background: linear-gradient(135deg, #fbbf24, #f472b6);
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(251, 191, 36, 0.8);
  pointer-events: none;
}

.dust1 { animation: dustFloat 1s var(--fairy-dust) forwards; --tx: -20px; --ty: -25px; }
.dust2 { animation: dustFloat 1s var(--fairy-dust) forwards 0.1s; --tx: 22px; --ty: -20px; }
.dust3 { animation: dustFloat 1s var(--fairy-dust) forwards 0.05s; --tx: -18px; --ty: 20px; }
.dust4 { animation: dustFloat 1s var(--fairy-dust) forwards 0.15s; --tx: 20px; --ty: 22px; }
.dust5 { animation: dustFloat 1s var(--fairy-dust) forwards 0.08s; --tx: 0px; --ty: -28px; }
.dust6 { animation: dustFloat 1s var(--fairy-dust) forwards 0.12s; --tx: -25px; --ty: 0px; }
.dust7 { animation: dustFloat 1s var(--fairy-dust) forwards 0.18s; --tx: 25px; --ty: 5px; }
.dust8 { animation: dustFloat 1s var(--fairy-dust) forwards 0.2s; --tx: 5px; --ty: 25px; }

@keyframes dustFloat {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
    transform: translate(calc(var(--tx) * 0.3), calc(var(--ty) * 0.3)) scale(1.2);
  }
  100% {
    transform: translate(var(--tx), var(--ty)) scale(0);
    opacity: 0;
  }
}

.softGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(244, 114, 182, 0.3) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.softGlowActive {
  opacity: 1;
}

.fairyPulse {
  animation: fairyPulseAnim 0.8s var(--fairy-flutter);
}

@keyframes fairyPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  50% { transform: scale(0.95); }
  70% { transform: scale(1.08); }
  100% { transform: scale(1); }
}

.fairyHeartPop {
  animation: fairyHeartPopAnim 0.8s var(--fairy-flutter);
}

@keyframes fairyHeartPopAnim {
  0% { transform: scale(1); filter: brightness(1); }
  30% { transform: scale(1.3); filter: brightness(1.3); }
  50% { transform: scale(0.9); filter: brightness(1.1); }
  100% { transform: scale(1); filter: brightness(1); }
}

.persistentSparkle {
  position: absolute;
  inset: -4px;
  background: radial-gradient(circle, transparent 30%, rgba(244, 114, 182, 0.1) 70%);
  border-radius: 50%;
  animation: persistentSparkleAnim 2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes persistentSparkleAnim {
  0%, 100% { opacity: 0.5; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.1); }
}

/* 2. Magic Wand - 마법 지팡이 */
.magicStar {
  position: absolute;
  font-size: 12px;
  color: #fbbf24;
  text-shadow: 0 0 8px rgba(251, 191, 36, 0.8);
  pointer-events: none;
}

.star1 { animation: starBurst 0.8s var(--magic-sparkle) forwards; --tx: -25px; --ty: -20px; }
.star2 { animation: starBurst 0.8s var(--magic-sparkle) forwards 0.05s; --tx: 25px; --ty: -18px; }
.star3 { animation: starBurst 0.8s var(--magic-sparkle) forwards 0.1s; --tx: -22px; --ty: 18px; }
.star4 { animation: starBurst 0.8s var(--magic-sparkle) forwards 0.08s; --tx: 20px; --ty: 22px; }
.star5 { animation: starBurst 0.8s var(--magic-sparkle) forwards 0.12s; --tx: 0px; --ty: -28px; }
.star6 { animation: starBurst 0.8s var(--magic-sparkle) forwards 0.15s; --tx: 0px; --ty: 28px; }

@keyframes starBurst {
  0% {
    transform: translate(0, 0) scale(0) rotate(0deg);
    opacity: 0;
  }
  30% {
    opacity: 1;
    transform: translate(calc(var(--tx) * 0.5), calc(var(--ty) * 0.5)) scale(1.5) rotate(180deg);
  }
  100% {
    transform: translate(var(--tx), var(--ty)) scale(0) rotate(360deg);
    opacity: 0;
  }
}

.magicRing {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 2px solid transparent;
  pointer-events: none;
}

.magicRingExpand {
  animation: magicRingExpandAnim 0.7s var(--magic-soft) forwards;
}

@keyframes magicRingExpandAnim {
  0% {
    transform: scale(0.5);
    border-color: rgba(251, 191, 36, 0.8);
    opacity: 1;
  }
  100% {
    transform: scale(1.8);
    border-color: rgba(251, 191, 36, 0);
    opacity: 0;
  }
}

.wandTouch {
  animation: wandTouchAnim 0.7s var(--magic-sparkle);
}

@keyframes wandTouchAnim {
  0% { transform: scale(1); }
  20% { transform: scale(1.2) rotate(5deg); }
  40% { transform: scale(0.95) rotate(-3deg); }
  60% { transform: scale(1.1) rotate(2deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.wandHeartBurst {
  animation: wandHeartBurstAnim 0.7s var(--magic-sparkle);
}

@keyframes wandHeartBurstAnim {
  0% { transform: scale(1); filter: brightness(1) drop-shadow(0 0 0 transparent); }
  30% { transform: scale(1.4); filter: brightness(1.4) drop-shadow(0 0 10px rgba(244, 114, 182, 0.8)); }
  60% { transform: scale(0.9); filter: brightness(1.1); }
  100% { transform: scale(1); filter: brightness(1); }
}

/* 3. Sparkle Burst - 빛 파티클 방사 */
.sparkleRays {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.sparkleRay {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 25px;
  height: 2px;
  background: linear-gradient(to right, rgba(244, 114, 182, 0.8), transparent);
  transform-origin: left center;
  animation: rayShoot 0.6s var(--magic-soft) forwards;
}

@keyframes rayShoot {
  0% {
    width: 0;
    opacity: 1;
  }
  50% {
    width: 30px;
    opacity: 1;
  }
  100% {
    width: 35px;
    opacity: 0;
  }
}

.centerFlash {
  position: absolute;
  inset: 8px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
  opacity: 0;
  pointer-events: none;
}

.centerFlashActive {
  animation: centerFlashAnim 0.4s ease-out forwards;
}

@keyframes centerFlashAnim {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.8; }
  100% { transform: scale(1.5); opacity: 0; }
}

.burstPulse {
  animation: burstPulseAnim 0.6s var(--magic-sparkle);
}

@keyframes burstPulseAnim {
  0% { transform: scale(1); }
  25% { transform: scale(1.2); }
  50% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.burstHeartGlow {
  animation: burstHeartGlowAnim 0.6s var(--magic-sparkle);
}

@keyframes burstHeartGlowAnim {
  0% { filter: brightness(1); }
  30% { filter: brightness(1.5) drop-shadow(0 0 12px rgba(244, 114, 182, 0.9)); }
  100% { filter: brightness(1); }
}

/* 4. Heart Glow - 부드러운 빛 발산 */
.haloLayer {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.haloLayer1 {
  background: radial-gradient(circle, rgba(244, 114, 182, 0.4) 0%, transparent 60%);
  transform: scale(1);
}

.haloLayer2 {
  background: radial-gradient(circle, rgba(251, 191, 36, 0.3) 0%, transparent 70%);
  transform: scale(1.2);
}

.haloLayer3 {
  background: radial-gradient(circle, rgba(167, 139, 250, 0.2) 0%, transparent 80%);
  transform: scale(1.4);
}

.haloActive {
  opacity: 1;
}

.glowPulse {
  animation: glowPulseAnim 0.7s var(--glow-pulse);
}

@keyframes glowPulseAnim {
  0% { transform: scale(1); }
  40% { transform: scale(1.15); }
  70% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.glowHeartFloat {
  animation: glowHeartFloatAnim 0.7s var(--magic-float);
}

@keyframes glowHeartFloatAnim {
  0% { transform: translateY(0) scale(1); }
  30% { transform: translateY(-4px) scale(1.15); }
  60% { transform: translateY(-2px) scale(1.08); }
  100% { transform: translateY(0) scale(1); }
}

.glowWave {
  position: absolute;
  inset: -10px;
  border-radius: 50%;
  border: 2px solid rgba(244, 114, 182, 0.4);
  animation: glowWaveAnim 0.7s var(--magic-soft) forwards;
  pointer-events: none;
}

@keyframes glowWaveAnim {
  0% { transform: scale(0.8); opacity: 1; }
  100% { transform: scale(1.6); opacity: 0; }
}

/* 5. Crystal Shine - 크리스탈 빛 굴절 */
.crystalLight {
  position: absolute;
  width: 20px;
  height: 3px;
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.9), transparent);
  border-radius: 2px;
  pointer-events: none;
}

.refract1 { animation: refractShine 0.7s var(--magic-soft) forwards; transform: rotate(-30deg); top: 20%; left: 60%; }
.refract2 { animation: refractShine 0.7s var(--magic-soft) forwards 0.1s; transform: rotate(45deg); top: 70%; left: 20%; }
.refract3 { animation: refractShine 0.7s var(--magic-soft) forwards 0.05s; transform: rotate(0deg); top: 50%; left: 70%; }

@keyframes refractShine {
  0% { opacity: 0; transform: translateX(-10px) rotate(var(--rotation, 0deg)); }
  30% { opacity: 1; }
  100% { opacity: 0; transform: translateX(10px) rotate(var(--rotation, 0deg)); }
}

.prismEffect {
  position: absolute;
  inset: 4px;
  border-radius: 50%;
  background: linear-gradient(135deg,
    rgba(244, 114, 182, 0.2) 0%,
    rgba(167, 139, 250, 0.2) 33%,
    rgba(96, 165, 250, 0.2) 66%,
    rgba(52, 211, 153, 0.2) 100%
  );
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.prismActive {
  opacity: 1;
}

.crystalPulse {
  animation: crystalPulseAnim 0.7s var(--magic-sparkle);
}

@keyframes crystalPulseAnim {
  0% { transform: scale(1) rotate(0deg); }
  30% { transform: scale(1.15) rotate(3deg); }
  60% { transform: scale(0.98) rotate(-2deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.crystalHeartShine {
  animation: crystalHeartShineAnim 0.7s var(--magic-soft);
}

@keyframes crystalHeartShineAnim {
  0% { filter: brightness(1); }
  30% { filter: brightness(1.4) saturate(1.2); }
  60% { filter: brightness(1.2); }
  100% { filter: brightness(1); }
}

/* 6. Aurora Wave - 오로라 물결 */
.auroraLayer {
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  background: linear-gradient(180deg,
    rgba(96, 165, 250, 0) 0%,
    rgba(167, 139, 250, 0.3) 30%,
    rgba(244, 114, 182, 0.3) 50%,
    rgba(52, 211, 153, 0.3) 70%,
    rgba(96, 165, 250, 0) 100%
  );
  opacity: 0;
  pointer-events: none;
}

.auroraWave {
  animation: auroraWaveAnim 0.9s var(--magic-float);
}

@keyframes auroraWaveAnim {
  0% { opacity: 0; transform: translateY(10px) scaleY(0.5); }
  30% { opacity: 1; transform: translateY(0) scaleY(1); }
  70% { opacity: 0.7; transform: translateY(-5px) scaleY(1.1); }
  100% { opacity: 0; transform: translateY(-10px) scaleY(0.8); }
}

.auroraGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.auroraGlowActive {
  opacity: 1;
}

.auroraPulse {
  animation: auroraPulseAnim 0.9s var(--magic-soft);
}

@keyframes auroraPulseAnim {
  0% { transform: scale(1); }
  40% { transform: scale(1.12); }
  100% { transform: scale(1); }
}

.auroraHeartFloat {
  animation: auroraHeartFloatAnim 0.9s var(--magic-float);
}

@keyframes auroraHeartFloatAnim {
  0% { transform: translateY(0); filter: hue-rotate(0deg); }
  50% { transform: translateY(-5px); filter: hue-rotate(30deg); }
  100% { transform: translateY(0); filter: hue-rotate(0deg); }
}

/* 7. Star Twinkle - 별빛 깜빡임 */
.twinkleStar {
  position: absolute;
  font-size: 10px;
  color: #fbbf24;
  opacity: 0;
  text-shadow: 0 0 6px rgba(251, 191, 36, 0.8);
  pointer-events: none;
}

.twinkle1 { top: 5px; left: 5px; }
.twinkle2 { top: 5px; right: 5px; }
.twinkle3 { bottom: 5px; left: 5px; }
.twinkle4 { bottom: 5px; right: 5px; }

.twinkleActive {
  animation: twinkleAnim 0.8s var(--magic-sparkle);
}

@keyframes twinkleAnim {
  0%, 100% { opacity: 0; transform: scale(0); }
  20% { opacity: 1; transform: scale(1.2); }
  40% { opacity: 0.5; transform: scale(0.8); }
  60% { opacity: 1; transform: scale(1.3); }
  80% { opacity: 0.3; transform: scale(0.9); }
}

.twinklePulse {
  animation: twinklePulseAnim 0.8s var(--magic-sparkle);
}

@keyframes twinklePulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  60% { transform: scale(0.95); }
  100% { transform: scale(1); }
}

.twinkleHeartGlow {
  animation: twinkleHeartGlowAnim 0.8s var(--magic-sparkle);
}

@keyframes twinkleHeartGlowAnim {
  0% { filter: brightness(1); }
  25% { filter: brightness(1.4); }
  50% { filter: brightness(1.1); }
  75% { filter: brightness(1.3); }
  100% { filter: brightness(1); }
}

.persistentTwinkle {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.persistentTwinkle::before,
.persistentTwinkle::after {
  content: '✦';
  position: absolute;
  font-size: 8px;
  color: #fbbf24;
  opacity: 0.6;
  animation: persistentTwinkleAnim 1.5s ease-in-out infinite;
}

.persistentTwinkle::before { top: 2px; right: 2px; }
.persistentTwinkle::after { bottom: 2px; left: 2px; animation-delay: 0.75s; }

@keyframes persistentTwinkleAnim {
  0%, 100% { opacity: 0.3; transform: scale(0.8); }
  50% { opacity: 0.8; transform: scale(1.2); }
}

/* 8. Moon Phase - 달빛 차오름 */
.moonFillContainer {
  position: absolute;
  inset: 6px;
  border-radius: 50%;
  overflow: hidden;
  pointer-events: none;
}

.moonFill {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  background: linear-gradient(to top, rgba(251, 191, 36, 0.4), rgba(244, 114, 182, 0.2));
  transition: height 0.05s linear;
}

.moonGlow {
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(251, 191, 36, 0.3) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.moonGlowActive {
  opacity: 1;
  animation: moonGlowPulse 2s ease-in-out infinite;
}

@keyframes moonGlowPulse {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.moonPulse {
  animation: moonPulseAnim 0.7s var(--magic-soft);
}

@keyframes moonPulseAnim {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.moonHeartRise {
  animation: moonHeartRiseAnim 0.7s var(--magic-float);
}

@keyframes moonHeartRiseAnim {
  0% { transform: translateY(3px); opacity: 0.7; }
  50% { transform: translateY(-3px); opacity: 1; }
  100% { transform: translateY(0); opacity: 1; }
}

/* 9. Petal Float - 꽃잎 떠오름 */
.petal {
  position: absolute;
  font-size: 12px;
  pointer-events: none;
  filter: drop-shadow(0 0 4px rgba(244, 114, 182, 0.5));
}

.petal1 { animation: petalFloat 1.2s var(--fairy-dust) forwards; --tx: -15px; --ty: -30px; --rot: 45deg; }
.petal2 { animation: petalFloat 1.2s var(--fairy-dust) forwards 0.1s; --tx: 18px; --ty: -25px; --rot: -30deg; }
.petal3 { animation: petalFloat 1.2s var(--fairy-dust) forwards 0.2s; --tx: -20px; --ty: 15px; --rot: 60deg; }
.petal4 { animation: petalFloat 1.2s var(--fairy-dust) forwards 0.15s; --tx: 15px; --ty: 20px; --rot: -45deg; }
.petal5 { animation: petalFloat 1.2s var(--fairy-dust) forwards 0.25s; --tx: 0px; --ty: -35px; --rot: 0deg; }

@keyframes petalFloat {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
    transform: translate(calc(var(--tx) * 0.3), calc(var(--ty) * 0.3)) rotate(calc(var(--rot) * 0.3)) scale(1);
  }
  100% {
    transform: translate(var(--tx), var(--ty)) rotate(var(--rot)) scale(0.5);
    opacity: 0;
  }
}

.petalGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(244, 114, 182, 0.25) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.petalGlowActive {
  opacity: 1;
}

.petalPulse {
  animation: petalPulseAnim 0.8s var(--fairy-flutter);
}

@keyframes petalPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.petalHeartBloom {
  animation: petalHeartBloomAnim 0.8s var(--fairy-flutter);
}

@keyframes petalHeartBloomAnim {
  0% { transform: scale(0.9); filter: brightness(1); }
  40% { transform: scale(1.25); filter: brightness(1.3); }
  70% { transform: scale(1.05); filter: brightness(1.1); }
  100% { transform: scale(1); filter: brightness(1); }
}

/* 10. Rainbow Shimmer - 무지개빛 일렁임 */
.rainbowRing {
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  background: conic-gradient(
    from 0deg,
    rgba(244, 114, 182, 0.5),
    rgba(251, 191, 36, 0.5),
    rgba(52, 211, 153, 0.5),
    rgba(96, 165, 250, 0.5),
    rgba(167, 139, 250, 0.5),
    rgba(244, 114, 182, 0.5)
  );
  opacity: 0;
  pointer-events: none;
}

.rainbowShimmer {
  animation: rainbowShimmerAnim 0.8s var(--magic-soft);
}

@keyframes rainbowShimmerAnim {
  0% { opacity: 0; transform: scale(0.8) rotate(0deg); }
  30% { opacity: 1; transform: scale(1.2) rotate(60deg); }
  60% { opacity: 0.8; transform: scale(1.1) rotate(120deg); }
  100% { opacity: 0; transform: scale(1.3) rotate(180deg); }
}

.rainbowGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(244, 114, 182, 0.2) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.rainbowGlowActive {
  opacity: 1;
}

.rainbowPulse {
  animation: rainbowPulseAnim 0.8s var(--magic-sparkle);
}

@keyframes rainbowPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.rainbowHeartShine {
  animation: rainbowHeartShineAnim 0.8s var(--magic-soft);
}

@keyframes rainbowHeartShineAnim {
  0% { filter: brightness(1) hue-rotate(0deg); }
  25% { filter: brightness(1.3) hue-rotate(30deg); }
  50% { filter: brightness(1.2) hue-rotate(60deg); }
  75% { filter: brightness(1.3) hue-rotate(90deg); }
  100% { filter: brightness(1) hue-rotate(0deg); }
}

.persistentRainbow {
  position: absolute;
  inset: -2px;
  border-radius: 50%;
  border: 2px solid;
  border-image: conic-gradient(
    from 0deg,
    rgba(244, 114, 182, 0.4),
    rgba(251, 191, 36, 0.4),
    rgba(52, 211, 153, 0.4),
    rgba(96, 165, 250, 0.4),
    rgba(167, 139, 250, 0.4),
    rgba(244, 114, 182, 0.4)
  ) 1;
  animation: persistentRainbowSpin 3s linear infinite;
  pointer-events: none;
}

@keyframes persistentRainbowSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ============================================
 * BOOKMARK BUTTONS - 마법 테마
 * ============================================ */

/* 1. Magic Bookmark */
.magicBookmarkGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(139, 92, 246, 0.3) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.magicBookmarkGlowActive {
  opacity: 1;
}

.magicParticle {
  position: absolute;
  width: 4px;
  height: 4px;
  background: linear-gradient(135deg, #a78bfa, #c4b5fd);
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(167, 139, 250, 0.8);
  pointer-events: none;
}

.mp1 { animation: magicParticleFloat 0.7s var(--fairy-dust) forwards; --tx: -20px; --ty: -15px; }
.mp2 { animation: magicParticleFloat 0.7s var(--fairy-dust) forwards 0.1s; --tx: 20px; --ty: -18px; }
.mp3 { animation: magicParticleFloat 0.7s var(--fairy-dust) forwards 0.05s; --tx: -15px; --ty: 18px; }
.mp4 { animation: magicParticleFloat 0.7s var(--fairy-dust) forwards 0.15s; --tx: 18px; --ty: 15px; }

@keyframes magicParticleFloat {
  0% { transform: translate(0, 0) scale(0); opacity: 0; }
  30% { opacity: 1; transform: translate(calc(var(--tx) * 0.4), calc(var(--ty) * 0.4)) scale(1); }
  100% { transform: translate(var(--tx), var(--ty)) scale(0); opacity: 0; }
}

.magicBookmarkPulse {
  animation: magicBookmarkPulseAnim 0.7s var(--magic-sparkle);
}

@keyframes magicBookmarkPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.magicBookmarkIcon {
  animation: magicBookmarkIconAnim 0.7s var(--magic-sparkle);
}

@keyframes magicBookmarkIconAnim {
  0% { filter: brightness(1); }
  30% { filter: brightness(1.4) drop-shadow(0 0 8px rgba(139, 92, 246, 0.8)); }
  100% { filter: brightness(1); }
}

/* 2. Enchant Seal - 마법진 */
.enchantSeal {
  position: absolute;
  inset: -5px;
  pointer-events: none;
  opacity: 0;
}

.enchantSealActive {
  opacity: 1;
}

.sealRing {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  border: 1px solid rgba(139, 92, 246, 0.6);
  animation: sealRingSpin 2s linear infinite;
}

.sealRing2 {
  inset: 4px;
  animation-direction: reverse;
  animation-duration: 1.5s;
}

@keyframes sealRingSpin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.sealRunes {
  position: absolute;
  top: -20px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  color: #a78bfa;
  text-shadow: 0 0 6px rgba(167, 139, 250, 0.8);
  white-space: nowrap;
  animation: sealRunesFade 0.9s ease forwards;
  pointer-events: none;
}

@keyframes sealRunesFade {
  0% { opacity: 0; transform: translateX(-50%) translateY(5px); }
  30% { opacity: 1; transform: translateX(-50%) translateY(0); }
  100% { opacity: 0; transform: translateX(-50%) translateY(-5px); }
}

.enchantPulse {
  animation: enchantPulseAnim 0.8s var(--magic-sparkle);
}

@keyframes enchantPulseAnim {
  0% { transform: scale(1); }
  40% { transform: scale(1.15); }
  70% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.enchantIcon {
  animation: enchantIconAnim 0.8s var(--magic-soft);
}

@keyframes enchantIconAnim {
  0% { transform: rotate(0deg); filter: brightness(1); }
  30% { transform: rotate(10deg); filter: brightness(1.3); }
  60% { transform: rotate(-5deg); filter: brightness(1.1); }
  100% { transform: rotate(0deg); filter: brightness(1); }
}

/* 3. Fairy Wing - 요정 날개 */
.fairyWingLeft,
.fairyWingRight {
  position: absolute;
  width: 16px;
  height: 20px;
  background: linear-gradient(to bottom, rgba(167, 139, 250, 0.4), rgba(196, 181, 253, 0.2));
  border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  opacity: 0.7;
}

.fairyWingLeft {
  left: -8px;
  transform-origin: right center;
}

.fairyWingRight {
  right: -8px;
  transform: translateY(-50%) scaleX(-1);
  transform-origin: left center;
}

.wingFlutter {
  animation: wingFlutterAnim 0.8s var(--fairy-flutter);
}

@keyframes wingFlutterAnim {
  0%, 100% { transform: translateY(-50%) rotate(0deg); }
  25% { transform: translateY(-50%) rotate(-15deg); }
  50% { transform: translateY(-50%) rotate(10deg); }
  75% { transform: translateY(-50%) rotate(-8deg); }
}

.wingSparkle {
  position: absolute;
  inset: -5px;
  background: radial-gradient(circle, rgba(196, 181, 253, 0.3) 0%, transparent 70%);
  border-radius: 50%;
  animation: wingSparkleAnim 1.5s ease-in-out infinite;
  pointer-events: none;
}

@keyframes wingSparkleAnim {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.wingPulse {
  animation: wingPulseAnim 0.8s var(--fairy-flutter);
}

@keyframes wingPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.1); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.wingIcon {
  animation: wingIconAnim 0.8s var(--magic-float);
}

@keyframes wingIconAnim {
  0% { transform: translateY(0); }
  30% { transform: translateY(-4px); }
  60% { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}

/* 4. Stardust Trail - 별가루 자취 */
.stardustDot {
  position: absolute;
  width: 3px;
  height: 3px;
  background: #fbbf24;
  border-radius: 50%;
  box-shadow: 0 0 4px rgba(251, 191, 36, 0.8);
  pointer-events: none;
}

.sd1 { animation: stardustTrail 1s var(--fairy-dust) forwards; --sx: -5px; --sy: 20px; --ex: -20px; --ey: -15px; }
.sd2 { animation: stardustTrail 1s var(--fairy-dust) forwards 0.1s; --sx: 5px; --sy: 20px; --ex: 22px; --ey: -12px; }
.sd3 { animation: stardustTrail 1s var(--fairy-dust) forwards 0.15s; --sx: 0; --sy: 18px; --ex: -10px; --ey: -20px; }
.sd4 { animation: stardustTrail 1s var(--fairy-dust) forwards 0.2s; --sx: -8px; --sy: 15px; --ex: 15px; --ey: -18px; }
.sd5 { animation: stardustTrail 1s var(--fairy-dust) forwards 0.08s; --sx: 8px; --sy: 18px; --ex: 0; --ey: -25px; }
.sd6 { animation: stardustTrail 1s var(--fairy-dust) forwards 0.25s; --sx: 0; --sy: 22px; --ex: 18px; --ey: -8px; }

@keyframes stardustTrail {
  0% { transform: translate(var(--sx), var(--sy)); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translate(var(--ex), var(--ey)); opacity: 0; }
}

.stardustGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(251, 191, 36, 0.25) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.stardustGlowActive {
  opacity: 1;
}

.stardustPulse {
  animation: stardustPulseAnim 0.7s var(--magic-sparkle);
}

@keyframes stardustPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.12); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.stardustIcon {
  animation: stardustIconAnim 0.7s var(--magic-soft);
}

@keyframes stardustIconAnim {
  0% { filter: brightness(1); }
  40% { filter: brightness(1.4) drop-shadow(0 0 6px rgba(251, 191, 36, 0.8)); }
  100% { filter: brightness(1); }
}

/* 5. Light Beam - 빛줄기 */
.lightBeam {
  position: absolute;
  top: -30px;
  left: 50%;
  width: 20px;
  height: 50px;
  transform: translateX(-50%);
  background: linear-gradient(to bottom,
    rgba(255, 255, 255, 0.8),
    rgba(167, 139, 250, 0.4),
    transparent
  );
  clip-path: polygon(30% 0%, 70% 0%, 100% 100%, 0% 100%);
  animation: lightBeamAnim 0.7s var(--magic-soft) forwards;
  pointer-events: none;
}

@keyframes lightBeamAnim {
  0% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
  30% { opacity: 1; transform: translateX(-50%) translateY(0); }
  100% { opacity: 0; transform: translateX(-50%) translateY(5px); }
}

.beamGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(167, 139, 250, 0.3) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.beamGlowActive {
  opacity: 1;
}

.beamPulse {
  animation: beamPulseAnim 0.7s var(--magic-soft);
}

@keyframes beamPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.beamIcon {
  animation: beamIconAnim 0.7s var(--magic-float);
}

@keyframes beamIconAnim {
  0% { filter: brightness(1); transform: translateY(0); }
  30% { filter: brightness(1.5); transform: translateY(-3px); }
  100% { filter: brightness(1); transform: translateY(0); }
}

/* 6. Crystal Mark - 크리스탈 마크 */
.crystalFacets {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.facet {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 8px;
  height: 15px;
  background: linear-gradient(to bottom, rgba(167, 139, 250, 0.3), transparent);
  transform-origin: center bottom;
  opacity: 0.5;
}

.facet:nth-child(1) { transform: translate(-50%, -100%) rotate(0deg); }
.facet:nth-child(2) { transform: translate(-50%, -100%) rotate(120deg); }
.facet:nth-child(3) { transform: translate(-50%, -100%) rotate(240deg); }

.crystalShine {
  animation: crystalShineAnim 0.7s var(--magic-sparkle);
}

.crystalShine .facet {
  animation: facetShine 0.7s var(--magic-soft);
}

@keyframes facetShine {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 1; }
}

.crystalMarkGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: linear-gradient(135deg,
    rgba(244, 114, 182, 0.2),
    rgba(167, 139, 250, 0.2),
    rgba(96, 165, 250, 0.2)
  );
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.crystalMarkGlowActive {
  opacity: 1;
}

.crystalMarkPulse {
  animation: crystalMarkPulseAnim 0.7s var(--magic-sparkle);
}

@keyframes crystalMarkPulseAnim {
  0% { transform: scale(1) rotate(0deg); }
  30% { transform: scale(1.12) rotate(5deg); }
  60% { transform: scale(0.98) rotate(-3deg); }
  100% { transform: scale(1) rotate(0deg); }
}

.crystalMarkIcon {
  animation: crystalMarkIconAnim 0.7s var(--magic-soft);
}

@keyframes crystalMarkIconAnim {
  0% { filter: brightness(1) saturate(1); }
  40% { filter: brightness(1.3) saturate(1.3); }
  100% { filter: brightness(1) saturate(1); }
}

/* 7. Glow Ribbon - 빛나는 리본 */
.glowRibbon {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  width: 8px;
  height: 0;
  background: linear-gradient(to bottom, #a78bfa, #c4b5fd);
  border-radius: 0 0 4px 4px;
  transition: height 0.3s var(--magic-soft);
  pointer-events: none;
}

.glowRibbonActive {
  height: 15px;
  box-shadow: 0 0 8px rgba(167, 139, 250, 0.6);
}

.ribbonWave {
  animation: ribbonWaveAnim 0.7s var(--fairy-flutter);
}

@keyframes ribbonWaveAnim {
  0%, 100% { transform: translateX(-50%) skewX(0deg); }
  25% { transform: translateX(-50%) skewX(5deg); }
  75% { transform: translateX(-50%) skewX(-5deg); }
}

.ribbonSparkle {
  position: absolute;
  bottom: -15px;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 4px;
  background: #fbbf24;
  border-radius: 50%;
  box-shadow: 0 0 6px rgba(251, 191, 36, 0.8);
  animation: ribbonSparkleAnim 1s ease-in-out infinite;
  pointer-events: none;
}

@keyframes ribbonSparkleAnim {
  0%, 100% { opacity: 0.5; transform: translateX(-50%) scale(0.8); }
  50% { opacity: 1; transform: translateX(-50%) scale(1.2); }
}

.glowRibbonPulse {
  animation: glowRibbonPulseAnim 0.7s var(--magic-sparkle);
}

@keyframes glowRibbonPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.12); }
  100% { transform: scale(1); }
}

.glowRibbonIcon {
  animation: glowRibbonIconAnim 0.7s var(--magic-float);
}

@keyframes glowRibbonIconAnim {
  0% { transform: translateY(0); }
  30% { transform: translateY(-3px); }
  100% { transform: translateY(0); }
}

/* 8. Magic Rune - 룬 문자 */
.runeChar {
  position: absolute;
  font-size: 12px;
  color: #a78bfa;
  text-shadow: 0 0 6px rgba(167, 139, 250, 0.8);
  pointer-events: none;
}

.rune1 { animation: runeAppear 0.9s var(--magic-soft) forwards; top: -5px; left: 50%; transform: translateX(-50%); }
.rune2 { animation: runeAppear 0.9s var(--magic-soft) forwards 0.1s; bottom: -5px; left: 50%; transform: translateX(-50%); }
.rune3 { animation: runeAppear 0.9s var(--magic-soft) forwards 0.15s; left: -5px; top: 50%; transform: translateY(-50%); }
.rune4 { animation: runeAppear 0.9s var(--magic-soft) forwards 0.2s; right: -5px; top: 50%; transform: translateY(-50%); }

@keyframes runeAppear {
  0% { opacity: 0; filter: blur(4px); }
  30% { opacity: 1; filter: blur(0); }
  70% { opacity: 0.8; }
  100% { opacity: 0; filter: blur(2px); }
}

.runeCircle {
  position: absolute;
  inset: -3px;
  border-radius: 50%;
  border: 1px dashed rgba(167, 139, 250, 0.4);
  pointer-events: none;
}

.runeCircleSpin {
  animation: runeCircleSpinAnim 0.8s var(--magic-soft);
}

@keyframes runeCircleSpinAnim {
  0% { transform: rotate(0deg); opacity: 0; }
  30% { opacity: 1; }
  100% { transform: rotate(180deg); opacity: 0; }
}

.runePulse {
  animation: runePulseAnim 0.8s var(--magic-sparkle);
}

@keyframes runePulseAnim {
  0% { transform: scale(1); }
  40% { transform: scale(1.15); }
  70% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.runeIcon {
  animation: runeIconAnim 0.8s var(--magic-soft);
}

@keyframes runeIconAnim {
  0% { filter: brightness(1); }
  40% { filter: brightness(1.4) drop-shadow(0 0 8px rgba(167, 139, 250, 0.8)); }
  100% { filter: brightness(1); }
}

/* 9. Firefly Dance - 반딧불이 춤 */
.firefly {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #84cc16;
  border-radius: 50%;
  box-shadow: 0 0 8px rgba(132, 204, 22, 0.8), 0 0 12px rgba(132, 204, 22, 0.4);
  pointer-events: none;
}

.ff1 { animation: fireflyDance 1.2s var(--fairy-dust) forwards; --path: 1; }
.ff2 { animation: fireflyDance 1.2s var(--fairy-dust) forwards 0.1s; --path: 2; }
.ff3 { animation: fireflyDance 1.2s var(--fairy-dust) forwards 0.2s; --path: 3; }
.ff4 { animation: fireflyDance 1.2s var(--fairy-dust) forwards 0.15s; --path: 4; }
.ff5 { animation: fireflyDance 1.2s var(--fairy-dust) forwards 0.25s; --path: 5; }

@keyframes fireflyDance {
  0% {
    transform: translate(0, 0) scale(0);
    opacity: 0;
  }
  20% {
    opacity: 1;
    transform: translate(calc(sin(var(--path) * 1.5) * 15px), -10px) scale(1);
  }
  50% {
    transform: translate(calc(cos(var(--path) * 2) * 20px), -20px) scale(1.2);
    opacity: 0.8;
  }
  80% {
    transform: translate(calc(sin(var(--path) * 1) * 25px), -30px) scale(0.8);
    opacity: 0.6;
  }
  100% {
    transform: translate(calc(cos(var(--path)) * 20px), -35px) scale(0);
    opacity: 0;
  }
}

.fireflyGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(132, 204, 22, 0.2) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.fireflyGlowActive {
  opacity: 1;
}

.fireflyPulse {
  animation: fireflyPulseAnim 0.8s var(--magic-sparkle);
}

@keyframes fireflyPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.12); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.fireflyIcon {
  animation: fireflyIconAnim 0.8s var(--magic-soft);
}

@keyframes fireflyIconAnim {
  0% { filter: brightness(1); }
  50% { filter: brightness(1.3) drop-shadow(0 0 6px rgba(132, 204, 22, 0.6)); }
  100% { filter: brightness(1); }
}

/* 10. Dream Catcher - 드림캐처 */
.dreamWeb {
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  border: 1px solid rgba(167, 139, 250, 0.3);
  pointer-events: none;
}

.webLine {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100%;
  height: 1px;
  background: linear-gradient(to right, transparent, rgba(167, 139, 250, 0.4), transparent);
  transform-origin: center;
}

.webLine:nth-child(1) { transform: translate(-50%, -50%) rotate(0deg); }
.webLine:nth-child(2) { transform: translate(-50%, -50%) rotate(60deg); }
.webLine:nth-child(3) { transform: translate(-50%, -50%) rotate(120deg); }

.dreamWebSpin {
  animation: dreamWebSpinAnim 0.8s var(--magic-soft);
}

@keyframes dreamWebSpinAnim {
  0% { transform: rotate(0deg) scale(0.8); opacity: 0; }
  30% { opacity: 1; }
  100% { transform: rotate(60deg) scale(1); opacity: 0.5; }
}

.dreamFeather {
  position: absolute;
  bottom: -10px;
  width: 3px;
  height: 12px;
  background: linear-gradient(to bottom, #a78bfa, #c4b5fd);
  border-radius: 0 0 3px 3px;
  animation: featherSway 2s ease-in-out infinite;
  pointer-events: none;
}

.feather1 { left: 35%; animation-delay: 0s; }
.feather2 { right: 35%; animation-delay: 0.5s; }

@keyframes featherSway {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(5deg); }
}

.dreamGlow {
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(167, 139, 250, 0.25) 0%, transparent 70%);
  opacity: 0;
  transition: opacity 0.5s var(--glow-fade);
  pointer-events: none;
}

.dreamGlowActive {
  opacity: 1;
}

.dreamPulse {
  animation: dreamPulseAnim 0.8s var(--magic-sparkle);
}

@keyframes dreamPulseAnim {
  0% { transform: scale(1); }
  30% { transform: scale(1.12); }
  60% { transform: scale(0.98); }
  100% { transform: scale(1); }
}

.dreamIcon {
  animation: dreamIconAnim 0.8s var(--magic-float);
}

@keyframes dreamIconAnim {
  0% { transform: translateY(0); filter: brightness(1); }
  30% { transform: translateY(-3px); filter: brightness(1.3); }
  60% { transform: translateY(-1px); filter: brightness(1.1); }
  100% { transform: translateY(0); filter: brightness(1); }
}
